<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="scroll_menu.css">
</head>
<body>
    <header>
        <a href="index.html" class="logo">ActiveLink</a> <!-- Changed href from # to index.html -->

        <nav>
            <a href="#home" class="active">Home</a>
            <a href="#about">About</a>
            <a href="#services">Services</a>
            <a href="#portfolio">Portfolio</a>
            <a href="#contact">Contact</a>
        </nav>
    </header>

    <div class="content con1" id="home">Home</div>
    <div class="content con2" id="about">About</div>
    <div class="content con3" id="services">Services</div>
    <div class="content" id="portfolio">Portfolio</div>
    <div class="content" id="contact">Contact</div>

    <!-- Move script here, inside the body -->
    <script>
        let section = document.querySelectorAll('.content');
        let navLink = document.querySelectorAll('a'); // Removed extra whitespace

        window.onscroll = () => {
            section.forEach(sec => {
                let top = window.scrollY;
                let offset = sec.offsetTop - 150;
                let height = sec.offsetHeight;
                let id = sec.getAttribute('id');

                if (top >= offset && top < offset + height) {
                    navLink.forEach(links => {
                        links.classList.remove('active');

                        // Ensure the element exists before trying to add the class
                        let currentLink = document.querySelector('a[href*=' + id + ']');
                        if (currentLink) {
                            currentLink.classList.add('active');
                        }
                    })
                }
            })
        }
    </script>
</body>
</html>
